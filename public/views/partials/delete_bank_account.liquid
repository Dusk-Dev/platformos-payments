
{% graphql bank_account = 'modules/payments/get_bank_account_by_id', id: id | dig: 'customizations', 'results' | first %}
{% graphql customer = 'modules/payments/get_customer', id: bank_account.properties.customer_id | dig: 'customizations', 'results' | first %}

{%- parse_json 'data' -%}
  {
    "id": "{{ bank_account.id }}",
    "customer_id": "{{ customer.gateway_id }}",
    "gateway_id": "{{ bank_account.properties.gateway_id }}"
  }
{%- endparse_json -%}
{%- parse_json 'config' -%}
  {
    "request_type": "delete_bank_account",
    "button": "Delete",
    "redirect_to": "{{ redirect_to | default: context.location.href }}"
  }
{%- endparse_json -%}

{%-
  include_form 'modules/payments/gateway_request_form',
  config: config,
  data: data
%}

